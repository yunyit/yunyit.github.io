<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>R on Yunyi&#39;s Blog</title>
    <link>https://www.yunyitang.me/zh/tags/r/</link>
    <description>Recent content in R on Yunyi&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Fri, 05 Jan 2024 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://www.yunyitang.me/zh/tags/r/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>R 可视化</title>
      <link>https://www.yunyitang.me/zh/blog/tech/r-visualising/</link>
      <pubDate>Fri, 05 Jan 2024 00:00:00 +0000</pubDate>
      <guid>https://www.yunyitang.me/zh/blog/tech/r-visualising/</guid>
      <description>因为实习兼职的公司用R，温习如下，示例取自此项目。 可视化libraries library(readr) library(ggplot2) library(dplyr) 导入数据 将csv导入dataset Read datasets/confirmed_cases_worldwide.csv into confirmed_cases_worldwide 选择部分数据 # Filter for</description>
      <content:encoded><![CDATA[<blockquote>
<p>因为实习兼职的公司用R，温习如下，示例取自<a href="https://app.datacamp.com/workspace/w/980fb8cc-bfa9-4071-aea3-ca8b1e3a95a8/edit" target="_blank" rel="noopener" style="color:#E16723";>此项目</a>。</p>
</blockquote>
<h1 id="可视化libraries">可视化libraries</h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">readr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>
</span></span></code></pre></div><h1 id="导入数据">导入数据</h1>
<h2 id="将csv导入dataset">将csv导入dataset</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="n">Read</span> <span class="n">datasets</span><span class="o">/</span><span class="n">confirmed_cases_worldwide.csv</span> <span class="n">into</span> <span class="n">confirmed_cases_worldwide</span>
</span></span></code></pre></div><h2 id="选择部分数据">选择部分数据</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="c1"># Filter for China, from Feb 15</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">china_after_feb15</span> <span class="o">&lt;-</span> <span class="n">confirmed_cases_china_vs_world</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">  <span class="nf">filter</span><span class="p">(</span><span class="n">is_china</span> <span class="o">==</span> <span class="s">&#34;China&#34;</span><span class="p">,</span> <span class="n">date</span> <span class="o">&gt;=</span> <span class="s">&#34;2020-02-15&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h1 id="画图">画图</h1>
<h2 id="单组数据">单组数据</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="c1"># Draw a line plot of cumulative cases vs. date</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Label the y-axis</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">confirmed_cases_worldwide</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">cum_cases</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">ylab</span><span class="p">(</span><span class="s">&#34;Cumulative confirmed cases&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="多组数据">多组数据</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="c1"># Using confirmed_cases_top7_outside_china, draw a line plot of</span>
</span></span><span class="line"><span class="cl"><span class="c1"># cum_cases vs. date, colored by country</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">confirmed_cases_top7_outside_china</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">cum_cases</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">country</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">ylab</span><span class="p">(</span><span class="s">&#34;Cumulative confirmed cases&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="趋势曲线">趋势曲线</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="c1"># Modify the plot to use a logarithmic scale on the y-axis</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">plt_not_china_trend_lin</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">  <span class="nf">scale_y_log10</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">`geom_smooth</span><span class="p">()</span><span class="n">`</span> <span class="n">using</span> <span class="n">formula</span> <span class="s">&#39;y ~ x&#39;</span>
</span></span></code></pre></div><hr>
<p>R语言练习：https://swirlstats.com/faq.html</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
